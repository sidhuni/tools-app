clusterName: "elasticsearch"
nodeGroup: "master"
image: "docker.elastic.co/elasticsearch/elasticsearch"
imageTag: "8.5.1"

replicas: 1

extraEnvs:
  - name: "discovery.type"
    value: "single-node"
  - name: "xpack.security.enabled"
    value: "false" # Temporarily disable security to reduce RAM/Startup complexity
  - name: "bootstrap.memory_lock"
    value: "false"



resources:
  requests:
    cpu: "500m"
    memory: "2Gi"
  limits:
    cpu: "1000m"
    memory: "2Gi"

esJavaOpts: "-Xmx1g -Xms1g"

sysctlInitContainer:
  enabled: false # We handle this manually with rdctl shell

# 4. STORAGE (Reduced from 30Gi to 5Gi for local testing)
volumeClaimTemplate:
  accessModes: [ "ReadWriteOnce" ]
  resources:
    requests:
      storage: 5Gi

# 5. HEALTH CHECKS
# A 1-node cluster will NEVER be 'green' (it stays yellow). 
# We must change your computed 'green' to 'yellow'.
clusterHealthCheckParams: "wait_for_status=yellow&timeout=1s"


readinessProbe:
  initialDelaySeconds: 150 
  periodSeconds: 60
  failureThreshold: 10

volumePermissions:
  enabled: true
