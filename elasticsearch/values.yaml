replicas: 3
# Lowering resources so they fit on smaller nodes
resources:
  requests:
    cpu: "500m"
    memory: "1Gi"
  limits:
    cpu: "1000m"
    memory: "2Gi"

# If Init Container is failing, try forcing a standard image
extraInitContainers:
  - name: sysctl
    image: docker.elastic.co/elasticsearch/elasticsearch:8.5.1
    command: ['sysctl', '-w', 'vm.max_map_count=262144']
    securityContext:
      privileged: true

# Ensure you have a storage class defined
volumeClaimTemplate:
  accessModes: [ "ReadWriteOnce" ]
  storageClassName: "standard" # Change this to your provider's class (e.g., gp2, longhorn)
  resources:
    requests:
      storage: 10Gi