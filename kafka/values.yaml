auth:
  enabled: false

listeners:
  client:
    protocol: PLAINTEXT

image:
  repository: bitnamilegacy/kafka

defaultInitContainers:
  prepareConfig:
    image:
      repository: bitnamilegacy/kafka

controller:
  replicaCount: 1

rresources:
  requests:
    memory: "768Mi" # Increased request to match the limit increase
    cpu: "250m"
  limits:
    memory: "1536Mi" # INCREASE THIS to provide more headroom (1.5 GiB)
    cpu: "500m"

# --- Use pre-created secrets ---
kraft:
  clusterIdSecret: my-kafka-cluster-kraft
  force: true

existingSecrets:
  userSecrets:
    - my-kafka-cluster-user-passwords

# Prevent Helm from overwriting secrets
commonAnnotations:
  "helm.sh/resource-policy": keep
